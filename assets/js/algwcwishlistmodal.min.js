!function(i,t,l,a){"use strict";var s="algwcwishlistmodal",o={algwcwishlistmodal:".js-algwcwishlistmodal",algwcwishlistmodalBtn:".alg-wc-wl-toggle-btn",algwcwishlistmodalThumbBtn:".alg-wc-wl-thumb-btn",algwcwishlistmodalBtnClose:".js-algwcwishlistmodal-btn-close",algwcwishlistmodalContainer:".js-algwcwishlistmodal-container",algwcwishlistmodalOverlay:".js-algwcwishlistmodal-overlay",algwcwishlistmodalCreate:".js-algwcwishlistmodal-btn-create",algwcwishlistmodalSaveWishlist:".js-algwcwishlistmodal-btn-save-wishlist",algwcwishlistmodalSave:".js-algwcwishlistmodal-btn-save",algwcwishlistmodalSaveCopy:".js-algwcwishlistmodal-btn-save-copy",algwcwishlistmodalCancel:".js-algwcwishlistmodal-btn-cancel",algwcwishlistmodalCancelCopy:".js-algwcwishlistmodal-btn-cancel-copy",algwcwishlistmodalForm:".create-wishlist-form",algwcwishlistmodalFormCopy:".copy-wishlist-form",algwcwishlistmodalSelect:".select-wishlist",algwcwishlistContainer:".algwc-wishlist-collections-wrapper",algwcwishlistDeleteWishlist:".delete-customized-wishlist",algwcwishlistCopyWishlist:".copy-wishlist"};function e(t,l){this.element=t,this.settings=i.extend({},o,l),this._defaults=o,this._name=s,this.init()}i.extend(e.prototype,{init:function(){var i=this.settings;e.prototype.handlerMethods(i)},isTouchScreen:function(){return t.matchMedia("(pointer: coarse)").matches},handlerMethods:function(a){var s=e.prototype.isTouchScreen()?alg_wc_wl_ajax.toggle_item_events.touchscreen.join(" "):alg_wc_wl_ajax.toggle_item_events.default.join(" ");i(l).on("click",a.algwcwishlistmodalBtn,(function(){var t=i(this).attr("data-item_id");e.prototype.show(a),e.prototype.showContainer(a),e.prototype.showOverlay(a),i("#wishlist_form_product_id").val(t),e.prototype.loadWishlist(a),jQuery("input#wishlist_name").val("")})),i(l).on(s,a.algwcwishlistmodalThumbBtn,(function(){if("yes"==alg_wc_wl_ajax.allow_unlogged_user_add_remove){var t=i(this).attr("data-item_id");e.prototype.show(a),e.prototype.showContainer(a),e.prototype.showOverlay(a),i("#wishlist_form_product_id").val(t),e.prototype.loadWishlist(a),jQuery("input#wishlist_name").val("")}})),i(l).on("click",a.algwcwishlistmodalBtnClose,(function(){e.prototype.hide(a),e.prototype.hideContainer(a),e.prototype.hideOverlay(a)})),i(l).on("click",a.algwcwishlistmodalContainer,(function(){e.prototype.hide(a),e.prototype.hideContainer(a),e.prototype.hideOverlay(a)})),i(l).on("click",a.algwcwishlistmodalCreate,(function(){e.prototype.hideSelect(a),e.prototype.showForm(a)})),i(l).on("click",a.algwcwishlistmodalCancel,(function(){e.prototype.showSelect(a),e.prototype.hideForm(a)})),i(l).on("click",a.algwcwishlistmodalSave,(function(){var i,t=(i=jQuery("input#wishlist_name"),{action:alg_wc_wl_ajax.action_save_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,value:i.val()});jQuery.post(alg_wc_wl.ajaxurl,t,(function(i){i.success&&(e.prototype.showSelect(a),e.prototype.hideForm(a),e.prototype.loadWishlist(a),jQuery("input#wishlist_name").val(""))}))})),i(l).on("click",a.algwcwishlistmodalSaveWishlist,(function(){var l=function(){var t=[];jQuery("input.whichlist-check:checkbox:checked").each((function(){t.push(i(this).val())}));var l=i("#wishlist_form_product_id").val();return{action:alg_wc_wl_ajax.action_save_multiple_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,value:t,item_id:l}}(),s=jQuery(alg_wc_wl_toggle_btn.btn_class+'[data-item_id="'+l.item_id+'"]');jQuery.post(alg_wc_wl.ajaxurl,l,(function(i){i.success&&(e.prototype.hide(a),e.prototype.hideContainer(a),e.prototype.hideOverlay(a),t.alg_wc_wish_list.show_notification(i),s.removeClass("remove add"),"removed"===i.data.added_or_removed?s.addClass("add"):"added"===i.data.added_or_removed&&s.addClass("remove"))}))})),i(l).on("click",a.algwcwishlistDeleteWishlist,(function(l){var a,s,o=(a=i(".delete-customized-wishlist").attr("data-wishlist_tab_id"),s=i(".delete-customized-wishlist").attr("data-page"),{action:alg_wc_wl_ajax.action_delete_multiple_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,wishlist_tab_id:a,wishlist_page_id:s});jQuery.post(alg_wc_wl.ajaxurl,o,(function(i){i.success&&(t.location.href=i.data.redirect_url)}))})),i(l).on("click",a.algwcwishlistCopyWishlist,(function(t){var l=i(this).attr("data-wishlist_tab_title"),s=i(this).attr("data-wishlist_tab_id");e.prototype.show(a),e.prototype.showContainer(a),e.prototype.showOverlay(a),e.prototype.hideSelect(a),e.prototype.hideForm(a),e.prototype.showFormCopy(a),i("#duplicate_wishlist_name").val(l+" (Copy)"),i("#wishlist_tab_id").val(s)})),i(l).on("click",a.algwcwishlistmodalCancelCopy,(function(){e.prototype.hide(a),e.prototype.hideContainer(a),e.prototype.hideOverlay(a),i("#duplicate_wishlist_name").val("")})),i(l).on("click",a.algwcwishlistmodalSaveCopy,(function(){var i,t,l=(i=jQuery("input#duplicate_wishlist_name"),t=jQuery("input#wishlist_tab_id"),{action:alg_wc_wl_ajax.action_duplicate_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,value_tab_id:t.val(),value:i.val()});jQuery.post(alg_wc_wl.ajaxurl,l,(function(i){i.success&&location.reload()}))})),i(l).on("click",a.algwcwishlistmodal,(function(i){i.stopPropagation()}))},loadWishlist:function(t){var l,a=(l=i("#wishlist_form_product_id").val(),{action:alg_wc_wl_ajax.action_get_multiple_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,item_id:l});i(t.algwcwishlistContainer).html('<li><i class="loading fas fa-sync-alt fa-spin fa-fw"></i></li>'),jQuery.post(alg_wc_wl.ajaxurl,a,(function(l){l.success&&i(t.algwcwishlistContainer).html(l.data.list_html)}))},show:function(t){i(t.algwcwishlistmodal).addClass("is-open")},hide:function(t){i(t.algwcwishlistmodal).removeClass("is-open")},showContainer:function(t){i(t.algwcwishlistmodalContainer).addClass("is-open")},hideContainer:function(t){i(t.algwcwishlistmodalContainer).removeClass("is-open")},showOverlay:function(t){i(t.algwcwishlistmodalOverlay).addClass("is-open")},hideOverlay:function(t){i(t.algwcwishlistmodalOverlay).removeClass("is-open")},showSelect:function(t){i(t.algwcwishlistmodalSelect).removeClass("is-hidden")},hideSelect:function(t){i(t.algwcwishlistmodalSelect).addClass("is-hidden")},showForm:function(t){i(t.algwcwishlistmodalForm).removeClass("is-hidden")},hideForm:function(t){i(t.algwcwishlistmodalForm).addClass("is-hidden")},showFormCopy:function(t){i(t.algwcwishlistmodalFormCopy).removeClass("is-hidden")},hideFormCopy:function(t){i(t.algwcwishlistmodalFormCopy).addClass("is-hidden")}}),i.fn[s]=function(t){return this.each((function(){i.data(this,"plugin_"+s)||i.data(this,"plugin_"+s,new e(this,t))}))}}(jQuery,window,document),jQuery((function(i){i(".js-algwcwishlistmodal").algwcwishlistmodal()}));