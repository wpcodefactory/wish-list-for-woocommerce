"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_js_modules_multi-wishlist_js"],{892:i=>{var s=jQuery,l={defaults:{algwcwishlistmodal:".js-algwcwishlistmodal",algwcwishlistmodalBtn:".alg-wc-wl-toggle-btn",algwcwishlistmodalThumbBtn:".alg-wc-wl-thumb-btn,.alg-wc-wl-thumb-btn-shortcode-wrapper .alg-wc-wl-btn",algwcwishlistmodalBtnClose:".js-algwcwishlistmodal-btn-close",algwcwishlistmodalContainer:".js-algwcwishlistmodal-container",algwcwishlistmodalOverlay:".js-algwcwishlistmodal-overlay",algwcwishlistmodalCreate:".js-algwcwishlistmodal-btn-create",algwcwishlistmodalSaveWishlist:".js-algwcwishlistmodal-btn-save-wishlist",algwcwishlistmodalSave:".js-algwcwishlistmodal-btn-save",algwcwishlistmodalSaveCopy:".js-algwcwishlistmodal-btn-save-copy",algwcwishlistmodalCancel:".js-algwcwishlistmodal-btn-cancel",algwcwishlistmodalCancelCopy:".js-algwcwishlistmodal-btn-cancel-copy",algwcwishlistmodalForm:".create-wishlist-form",algwcwishlistmodalFormCopy:".copy-wishlist-form",algwcwishlistmodalSelect:".select-wishlist",algwcwishlistContainer:".algwc-wishlist-collections-wrapper",algwcwishlistDeleteWishlist:".delete-customized-wishlist",algwcwishlistCopyWishlist:".copy-wishlist"},init:function(i){this.settings=s.extend({},this.defaults,i),this.bindEvents()},isTouchScreen:function(){return window.matchMedia("(pointer: coarse)").matches},bindEvents:function(){var i=this,l=i.settings,t=i.isTouchScreen()?alg_wc_wl_ajax.toggle_item_events.touchscreen.join(" "):alg_wc_wl_ajax.toggle_item_events.default.join(" ");s(document).on("click",l.algwcwishlistmodalBtn,(function(){var l=s(this).data("item_id");i.show(),i.showContainer(),i.showOverlay(),s("#wishlist_form_product_id").val(l),i.loadWishlist(),s("input#wishlist_name").val("")})),s(document).on(t,l.algwcwishlistmodalThumbBtn,(function(){if("yes"===alg_wc_wl_ajax.allow_unlogged_user_add_remove){var l=s(this).data("item_id");i.show(),i.showContainer(),i.showOverlay(),s("#wishlist_form_product_id").val(l),i.loadWishlist(),s("input#wishlist_name").val("")}})),s(document).on("click",l.algwcwishlistmodalBtnClose,(function(){i.closeModal()})),s(document).on("click",l.algwcwishlistmodalContainer,(function(){i.closeModal()})),s(document).on("click",l.algwcwishlistmodalCreate,(function(){i.hideSelect(),i.showForm()})),s(document).on("click",l.algwcwishlistmodalCancel,(function(){i.showSelect(),i.hideForm()})),s(document).on("click",l.algwcwishlistmodalSave,(function(){var l=i.getSaveWishlistData();s.post(alg_wc_wl.ajaxurl,l,(function(l){l.success&&(i.showSelect(),i.hideForm(),i.loadWishlist(),s("input#wishlist_name").val(""))}))})),s(document).on("click",l.algwcwishlistmodalSaveWishlist,(function(){var l=i.getSaveMultipleWishlistItemData(),t=s(alg_wc_wl_toggle_btn.btn_class+'[data-item_id="'+l.item_id+'"]');s.post(alg_wc_wl.ajaxurl,l,(function(s){s.success&&(i.closeModal(),window.alg_wc_wish_list.show_notification(s),t.removeClass("remove add"),"removed"===s.data.added_or_removed?t.addClass("add"):"added"===s.data.added_or_removed&&t.addClass("remove"))}))})),s(document).on("click",l.algwcwishlistDeleteWishlist,(function(){var l=i.getDeleteWishlistData();s.post(alg_wc_wl.ajaxurl,l,(function(i){i.success&&(window.location.href=i.data.redirect_url)}))})),s(document).on("click",l.algwcwishlistCopyWishlist,(function(){var l=s(this).data("wishlist_tab_title"),t=s(this).data("wishlist_tab_id");i.show(),i.showContainer(),i.showOverlay(),i.hideSelect(),i.hideForm(),i.showFormCopy(),s("#duplicate_wishlist_name").val(l+" (Copy)"),s("#wishlist_tab_id").val(t)})),s(document).on("click",l.algwcwishlistmodalCancelCopy,(function(){i.closeModal(),s("#duplicate_wishlist_name").val("")})),s(document).on("click",l.algwcwishlistmodalSaveCopy,(function(){var l=i.getDuplicateWishlistData();s.post(alg_wc_wl.ajaxurl,l,(function(i){i.success&&location.reload()}))})),s(document).on("click",l.algwcwishlistmodal,(function(i){i.stopPropagation()}))},getSaveWishlistData:function(){return{action:alg_wc_wl_ajax.action_save_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,value:s("input#wishlist_name").val()}},getSaveMultipleWishlistItemData:function(){var i=[];return s("input.whichlist-check:checkbox:checked").each((function(){i.push(s(this).val())})),{action:alg_wc_wl_ajax.action_save_multiple_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,value:i,item_id:s("#wishlist_form_product_id").val()}},getDuplicateWishlistData:function(){return{action:alg_wc_wl_ajax.action_duplicate_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,value_tab_id:s("#wishlist_tab_id").val(),value:s("#duplicate_wishlist_name").val()}},getDeleteWishlistData:function(){var i=s(".delete-customized-wishlist");return{action:alg_wc_wl_ajax.action_delete_multiple_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,wishlist_tab_id:i.data("wishlist_tab_id"),wishlist_page_id:i.data("page")}},loadWishlist:function(){var i=this.settings;s(i.algwcwishlistContainer).html('<li><i class="loading fas fa-sync-alt fa-spin fa-fw"></i></li>'),s.post(alg_wc_wl.ajaxurl,{action:alg_wc_wl_ajax.action_get_multiple_wishlist,nonce:alg_wc_wl_ajax.toggle_nonce,item_id:s("#wishlist_form_product_id").val()},(function(l){l.success&&s(i.algwcwishlistContainer).html(l.data.list_html)}))},show:function(){s(this.settings.algwcwishlistmodal).addClass("is-open")},hide:function(){s(this.settings.algwcwishlistmodal).removeClass("is-open")},showContainer:function(){s(this.settings.algwcwishlistmodalContainer).addClass("is-open")},hideContainer:function(){s(this.settings.algwcwishlistmodalContainer).removeClass("is-open")},showOverlay:function(){s(this.settings.algwcwishlistmodalOverlay).addClass("is-open")},hideOverlay:function(){s(this.settings.algwcwishlistmodalOverlay).removeClass("is-open")},showSelect:function(){s(this.settings.algwcwishlistmodalSelect).removeClass("is-hidden")},hideSelect:function(){s(this.settings.algwcwishlistmodalSelect).addClass("is-hidden")},showForm:function(){s(this.settings.algwcwishlistmodalForm).removeClass("is-hidden")},hideForm:function(){s(this.settings.algwcwishlistmodalForm).addClass("is-hidden")},showFormCopy:function(){s(this.settings.algwcwishlistmodalFormCopy).removeClass("is-hidden")},hideFormCopy:function(){s(this.settings.algwcwishlistmodalFormCopy).addClass("is-hidden")},closeModal:function(){this.hide(),this.hideContainer(),this.hideOverlay()}};i.exports=l}}]);