(self.webpackChunk=self.webpackChunk||[]).push([["src_js_modules_alg-wc-wish-list_js"],{643:t=>{alg_wc_wl_get_toggle_wishlist_item_data=function(t){return data={action:alg_wc_wl_ajax.action_toggle_item,nonce:alg_wc_wl_ajax.toggle_nonce,unlogged_user_id:e.get_cookie("alg-wc-wl-user-id"),alg_wc_wl_item_id:t.attr("data-item_id"),wtab_id:t.attr("data-wtab_id")},data};var e={};e={init:function(){var t=this.isTouchScreen()?alg_wc_wl_ajax.toggle_item_events.touchscreen.join(" "):alg_wc_wl_ajax.toggle_item_events.default.join(" ");jQuery(document.body).on(t,alg_wc_wl_toggle_btn.btn_class,this.toggle_wishlist_item),this.handle_item_removal_from_wishlist_page(),this.setupRemoveAllButton(),this.setup_izitoast();var o=this.get_notification_option("toggle_item_return");o&&e.show_notification(o),jQuery("body").on("alg_wc_wl_toggle_wl_item",this.removeItemFromDomOnThumbBtnClick),jQuery("body").on("alg_wc_wl_copied_to_clipboard",this.notify_on_copy_to_clipboard),jQuery("body").trigger({type:"alg_wc_wish_list_init",obj:this})},isTouchScreen:function(){return window.matchMedia("(pointer: coarse)").matches},setupRemoveAllButton:function(){jQuery(document.body).on("mouseup touchend",".alg-wc-wl-remove-all",(function(){var t=jQuery(this),o={action:alg_wc_wl_ajax.action_remove_all,unlogged_user_id:e.get_cookie("alg-wc-wl-user-id"),security:alg_wc_wl_ajax.nonce};t.hasClass("loading")||t.addClass("loading"),jQuery.post(alg_wc_wl.ajaxurl,o).done((function(o){var i={data:{message:alg_wc_wl.all_removed_text,action:"removed"}};o.success&&e.show_notification(i),jQuery("body").trigger({type:"alg_wc_wl_remove_all",target:t,response:o}),t.removeClass("loading")})).fail((function(){alg_wc_wl.error_text,t.removeClass("loading")}))})),jQuery("body").on("alg_wc_wl_remove_all",(function(t){t.response.success&&jQuery(".alg-wc-wl-view-table").length&&(jQuery(".alg-wc-wl-view-table").remove(),jQuery(".alg-wc-wl-empty-wishlist").show(),jQuery(".alg-wc-wl-social").remove())})),jQuery("body").on("alg_wc_wl_remove_all",(function(t){jQuery(".alg-wc-wl-toggle-btn,.alg-wc-wl-thumb-btn").removeClass("remove").addClass("add")})),jQuery("body").on("alg_wc_wl_remove_all",(function(t){if(t.response.success){var e=t.target.attr("data-auto_hide");void 0!==e&&!1!==e&&"false"!==e&&t.target.remove()}}))},notify_on_copy_to_clipboard:function(t){e.show_notification({data:{message:e.get_notification_option("copied_message"),icon:alg_wc_wl.fa_icons.copy}})},removeItemFromDomOnThumbBtnClick:function(t){if(jQuery(t.target).hasClass("is_wish_list")&&jQuery(t.target).hasClass("wish_list_wc_template")){var e=jQuery(t.target).closest(".product");e.remove(),jQuery("body").trigger({type:"alg_wc_wl_remove_item",item_id:t.target.attr("data-item_id"),target:t.target,removed_item:e})}},get_cookie:function(t){for(var e=t+"=",o=decodeURIComponent(document.cookie).split(";"),i=0;i<o.length;i++){for(var a=o[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""},handle_item_removal_from_wishlist_page:function(){jQuery("body").on("alg_wc_wl_toggle_wl_item",(function(t){t.response.success&&(jQuery(".alg-wc-wl-view-table").length&&t.target.parents("tr").remove(),0==jQuery(".alg-wc-wl-view-table tbody tr").length&&(jQuery(".alg-wc-wl-view-table").remove(),jQuery(".alg-wc-wl-empty-wishlist").show(),jQuery(".alg-wc-wl-social").remove()))}))},convertToBoolean:function(t){return("string"==typeof t||t instanceof String)&&(t=t.toLowerCase()),Boolean(1==t|"true"===t)},toggle_wishlist_item:function(){var t=jQuery(alg_wc_wl_toggle_btn.btn_class+'[data-item_id="'+jQuery(this).attr("data-item_id")+'"]'),o=jQuery(this),i=alg_wc_wl_get_toggle_wishlist_item_data(o);"no"!=alg_wc_wl_ajax.allow_unlogged_user_add_remove&&"yes"===alg_wc_wl_ajax.is_multiple_wishlist_enabled&&"yes"!=alg_wc_wl_ajax.is_current_page_wishlist&&"yes"!=alg_wc_wl_ajax.is_account_page||o.hasClass("loading")||(o.addClass("loading"),jQuery.post(alg_wc_wl.ajaxurl,i,(function(i){i.success&&(t.removeClass("remove add"),"removed"===i.data.action?t.addClass("add"):"added"===i.data.action&&t.addClass("remove")),jQuery("body").trigger({type:"alg_wc_wl_toggle_wl_item",item_id:o.attr("data-item_id"),target:o,response:i}),e.show_notification(i),o.removeClass("loading")})))},is_mobile:function(){return window.innerWidth<=800||window.innerHeight<=600},get_notification_option:function(t,e){var o=null;return void 0!==e&&(o=e),"undefined"!=typeof alg_wc_wl_notification&&alg_wc_wl_notification.hasOwnProperty(t)&&!jQuery.isEmptyObject(alg_wc_wl_notification[t])&&(o=alg_wc_wl_notification[t]),o},get_notification_icon:function(t){var o="fas fa-heart";switch(t.data.action){case"added":o=e.get_notification_option("icon_add","fas fa-heart");break;case"removed":o=e.get_notification_option("icon_remove","far fa-heart");break;case"error":o=e.get_notification_option("icon_error","fas fa-exclamation-circle");break;default:"undefined"!==t.data.icon&&(o=t.data.icon)}return o},show_notification:function(t){var o=!1;(e.convertToBoolean(e.get_notification_option("mobile"))&&e.is_mobile()||e.convertToBoolean(e.get_notification_option("desktop"))&&!e.is_mobile())&&(o=!0),o&&(iziToast.destroy(),iziToast.show({message:t.data.message,icon:e.get_notification_icon(t)}))},setup_izitoast:function(){this.setup_notification_to_close_on_esc();var t={resetOnHover:!0,drag:!1,layout:2,theme:"dark",timeout:e.get_notification_option("timeout",0),backgroundColor:"#000000",progressBar:e.convertToBoolean(e.get_notification_option("progressBar",!0)),position:e.get_notification_option("position","center"),progressBarColor:"rgb(255, 255, 255)",class:"alg-wc-wl-izitoast",onClose:function(t,e,o){jQuery("body").trigger({type:"alg_wc_wl_notification_close",message:jQuery(e).find("p.slideIn")})}};e.convertToBoolean(e.get_notification_option("ok_button",!1))&&(t.buttons=[["<button>OK</button>",function(t,e){t.hide({},e)}]]),iziToast.settings(t)},setup_notification_to_close_on_esc:function(){jQuery(document).keyup((function(t){27==t.keyCode&&jQuery(".iziToast").length>0&&iziToast.hide({},".iziToast")}))}};var o={init:function(){jQuery((function(t){e.init(),window.alg_wc_wish_list=e}))}};t.exports=o}}]);