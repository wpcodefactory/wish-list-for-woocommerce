{"version":3,"file":"js/modules/dev/src_js_modules_thumb-btn-positioner_js.js","mappings":"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","sources":["webpack:///./src/js/modules/thumb-btn-positioner.js"],"sourcesContent":["/**\r\n * Controls thumb button position\r\n */\r\n\r\nvar algWcWlThumbBtnPositioner = {\r\n\r\n\tthumbBtn: null,\r\n\toffset: 0,\r\n\toffsetSingle: 0,\r\n\toffsetLoop: 0,\r\n\tthumbBtnPosition: 'topRight',\r\n\tbuttonsCount: 0,\r\n\tguideImgSelector: 'img.wp-post-image',\r\n\trepeater: null,\r\n\r\n\t/**\r\n\t * Initializes.\r\n\t */\r\n\tinit: function () {\r\n\t\tthis.thumbBtn = jQuery( '.' + this.getThumbOption( 'thumb_css_class', 'alg-wc-wl-thumb-btn' ) );\r\n\t\tthis.thumbBtnPosition = this.getThumbOption( 'position', 'topLeft' );\r\n\t\tthis.offset = parseInt( this.getThumbOption( 'offset_loop', 17 ) );\r\n\t\tthis.offsetSingle = parseInt( this.getThumbOption( 'offset_single', 17 ) );\r\n\t\tthis.offsetLoop = parseInt( this.getThumbOption( 'offset_loop', 17 ) );\r\n\r\n\t\tthis.thumbBtn\r\n\t\t\t.css( 'left', 'auto' )\r\n\t\t\t.css( 'top', 'auto' )\r\n\t\t\t.css( 'right', 'auto' )\r\n\t\t\t.css( 'bottom', 'auto' );\r\n\r\n\t\tthis.guideImgSelector = this.getThumbOption( 'guide_img_selector', 'img.wp-post-image' );\r\n\r\n\t\tthis.positionBtnsLooping();\r\n\r\n\t\twindow.onresize = function () {\r\n\t\t\tclearInterval( algWcWlThumbBtnPositioner.repeater );\r\n\t\t\talgWcWlThumbBtnPositioner.positionBtnsLooping();\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Initiates a repeater to positioning buttons.\r\n\t *\r\n\t * It has to be a set interval because we need to wait images loaded to calculate its offset and position.\r\n\t * But don't need to worry because we are always checking when it is complete with stopRepeater().\r\n\t */\r\n\tpositionBtnsLooping: function () {\r\n\t\tthis.repeater = setInterval( function () {\r\n\t\t\talgWcWlThumbBtnPositioner.positionBtns();\r\n\t\t}, 200 );\r\n\t},\r\n\r\n\t/**\r\n\t * Positions thumb buttons where they belong (bottomRight, bottomLeft, topRight, topLeft for now).\r\n\t */\r\n\tpositionBtns: function () {\r\n\r\n\t\talgWcWlThumbBtnPositioner.thumbBtn.each( function () {\r\n\r\n\t\t\tvar offset = algWcWlThumbBtnPositioner.offset;\r\n\t\t\tvar offsetSingle = algWcWlThumbBtnPositioner.offsetSingle;\r\n\t\t\tvar offsetLoop = algWcWlThumbBtnPositioner.offsetLoop;\r\n\t\t\tvar guideImgSelector = algWcWlThumbBtnPositioner.guideImgSelector;\r\n\t\t\tvar single = false;\r\n\r\n\t\t\tif ( jQuery( this ).hasClass( 'alg-wc-wl-thumb-btn-loop' ) ) {\r\n\t\t\t\toffset = offsetLoop;\r\n\t\t\t\tsingle = false;\r\n\t\t\t} else if ( jQuery( this ).hasClass( 'alg-wc-wl-thumb-btn-single' ) ) {\r\n\t\t\t\toffset = offsetSingle;\r\n\t\t\t\tsingle = true;\r\n\t\t\t}\r\n\r\n\t\t\tvar img = jQuery( this ).parent().find( guideImgSelector ).eq( 0 );\r\n\r\n\t\t\tif ( img.offset() && img.parent().offset() ) {\r\n\r\n\t\t\t\tvar positionBottom = img.height() - jQuery( this ).height() - offset;\r\n\t\t\t\tvar positionTop = offset;\r\n\t\t\t\tvar positionLeft = offset + img.offset().left - img.parent().offset().left;\r\n\t\t\t\tvar positionRight = offset + img.offset().left - img.parent().offset().left;\r\n\r\n\t\t\t\tif ( algWcWlThumbBtnPositioner.thumbBtnPosition.match( /bottom/i ) ) {\r\n\t\t\t\t\tjQuery( this ).css( 'top', positionBottom );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( algWcWlThumbBtnPositioner.thumbBtnPosition.match( /top/i ) ) {\r\n\t\t\t\t\tjQuery( this ).css( 'top', positionTop );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( algWcWlThumbBtnPositioner.thumbBtnPosition.match( /right/i ) ) {\r\n\t\t\t\t\tjQuery( this ).css( 'right', positionRight );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( algWcWlThumbBtnPositioner.thumbBtnPosition.match( /left/i ) ) {\r\n\t\t\t\t\tjQuery( this ).css( 'left', positionLeft );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( single ) {\r\n\t\t\t\t\tif ( !jQuery( this ).hasClass( 'positioned-on-parent' ) ) {\r\n\r\n\t\t\t\t\t\tvar imgWrapperGuessLevelsSingle = parseInt(\r\n\t\t\t\t\t\t\talgWcWlThumbBtnPositioner.getThumbOption( 'img_wrapper_guess_levels_single', 2 )\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tvar productGallery = null;\r\n\r\n\t\t\t\t\t\tswitch ( imgWrapperGuessLevelsSingle ) {\r\n\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\tproductGallery = jQuery( this ).parent();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\tproductGallery = jQuery( this ).parent().parent();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\tproductGallery = jQuery( this ).parent().parent().parent();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( productGallery ) {\r\n\t\t\t\t\t\t\tproductGallery.append( jQuery( this ) );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tjQuery( this ).addClass( 'positioned-on-parent' );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tjQuery( this ).show();\r\n\t\t\t\talgWcWlThumbBtnPositioner.buttonsCount++;\r\n\t\t\t\talgWcWlThumbBtnPositioner.stopRepeater();\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\r\n\t/**\r\n\t * Knows when function \"position_btns()\" has to stop.\r\n\t */\r\n\tstopRepeater: function () {\r\n\t\tif ( algWcWlThumbBtnPositioner.buttonsCount == algWcWlThumbBtnPositioner.thumbBtn.length ) {\r\n\t\t\tclearInterval( algWcWlThumbBtnPositioner.repeater );\r\n\t\t\talgWcWlThumbBtnPositioner.buttonsCount = 0;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Gets thumb options dynamically through the object called 'alg_wc_wl_thumb'.\r\n\t *\r\n\t * @param option\r\n\t * @param default_opt\r\n\t * @returns {*}\r\n\t */\r\n\tgetThumbOption: function ( option, default_opt ) {\r\n\t\tvar result = null;\r\n\r\n\t\tif ( typeof default_opt !== 'undefined' ) {\r\n\t\t\tresult = default_opt;\r\n\t\t}\r\n\r\n\t\tif ( typeof alg_wc_wl_thumb !== 'undefined' ) {\r\n\t\t\tif (\r\n\t\t\t\talg_wc_wl_thumb.hasOwnProperty( option ) &&\r\n\t\t\t\t!jQuery.isEmptyObject( alg_wc_wl_thumb[ option ] )\r\n\t\t\t) {\r\n\t\t\t\tresult = alg_wc_wl_thumb[ option ];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n};\r\n\r\nconst thumbBtnPositioner = {\r\n\tinit: function () {\r\n\t\tjQuery( function () {\r\n\t\t\talgWcWlThumbBtnPositioner.init();\r\n\t\t\tjQuery( 'body' ).trigger( {\r\n\t\t\t\ttype: 'alg_wc_wl_thumb_btn_position',\r\n\t\t\t\tobj: algWcWlThumbBtnPositioner\r\n\t\t\t} );\r\n\t\t} );\r\n\t}\r\n};\r\n\r\nmodule.exports = thumbBtnPositioner;"],"names":["algWcWlThumbBtnPositioner","thumbBtn","offset","offsetSingle","offsetLoop","thumbBtnPosition","buttonsCount","guideImgSelector","repeater","init","jQuery","getThumbOption","parseInt","css","positionBtnsLooping","window","onresize","clearInterval","setInterval","positionBtns","each","single","hasClass","img","parent","find","eq","positionBottom","height","positionTop","positionLeft","left","positionRight","match","imgWrapperGuessLevelsSingle","productGallery","append","addClass","show","stopRepeater","length","option","default_opt","result","alg_wc_wl_thumb","hasOwnProperty","isEmptyObject","thumbBtnPositioner","trigger","type","obj","module","exports"],"sourceRoot":""}